
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mydomain.org/mysite/fans/">
      
      
        <link rel="prev" href="../flashing/">
      
      
        <link rel="next" href="../config_reference/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Fans - DragonDinghy</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#fans" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="DragonDinghy" class="md-header__button md-logo" aria-label="DragonDinghy" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DragonDinghy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Fans
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="purple"  aria-label="Switch to Dark Mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to Dark Mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="purple"  aria-label="Switch to Light Mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to Light Mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="purple"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/Drachenkaetzchen/DragonDinghy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../getting_started/" class="md-tabs__link">
          
  
  
  Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../troubleshooting/" class="md-tabs__link">
        
  
  
    
  
  Troubleshooting

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../specifications/" class="md-tabs__link">
        
  
  
    
  
  Specifications

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../known_issues/" class="md-tabs__link">
        
  
  
    
  
  Known Issues

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="DragonDinghy" class="md-nav__button md-logo" aria-label="DragonDinghy" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DragonDinghy
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Drachenkaetzchen/DragonDinghy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flashing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Flashing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Fans
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Fans
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#before-connecting-the-fan" class="md-nav__link">
    <span class="md-ellipsis">
      Before connecting the fan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#choosing-the-fan-voltage" class="md-nav__link">
    <span class="md-ellipsis">
      Choosing the fan voltage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-wire-fans" class="md-nav__link">
    <span class="md-ellipsis">
      2-Wire Fans
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-wire-fans" class="md-nav__link">
    <span class="md-ellipsis">
      3-Wire Fans
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3-Wire Fans">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3-wire-fans-with-tachometer" class="md-nav__link">
    <span class="md-ellipsis">
      3-Wire Fans with Tachometer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-wire-fans-with-pwm" class="md-nav__link">
    <span class="md-ellipsis">
      3-Wire Fans with PWM
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-wire-fans" class="md-nav__link">
    <span class="md-ellipsis">
      4-Wire Fans
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fans-not-spinning" class="md-nav__link">
    <span class="md-ellipsis">
      Fans not spinning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fans not spinning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fans-0-and-1" class="md-nav__link">
    <span class="md-ellipsis">
      Fans 0 and 1
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fan-spinning-uncommanded" class="md-nav__link">
    <span class="md-ellipsis">
      Fan spinning uncommanded
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fan spinning uncommanded">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fans-0-and-1_1" class="md-nav__link">
    <span class="md-ellipsis">
      Fans 0 and 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fans-2-and-3" class="md-nav__link">
    <span class="md-ellipsis">
      Fans 2 and 3
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pwm-fans-not-properly-controllable" class="md-nav__link">
    <span class="md-ellipsis">
      PWM fans not properly controllable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix" class="md-nav__link">
    <span class="md-ellipsis">
      Appendix
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typical-fan-wire-colors" class="md-nav__link">
    <span class="md-ellipsis">
      Typical Fan Wire Colors
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Config Reference
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../specifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Specifications
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../known_issues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Known Issues
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#before-connecting-the-fan" class="md-nav__link">
    <span class="md-ellipsis">
      Before connecting the fan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#choosing-the-fan-voltage" class="md-nav__link">
    <span class="md-ellipsis">
      Choosing the fan voltage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-wire-fans" class="md-nav__link">
    <span class="md-ellipsis">
      2-Wire Fans
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-wire-fans" class="md-nav__link">
    <span class="md-ellipsis">
      3-Wire Fans
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3-Wire Fans">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3-wire-fans-with-tachometer" class="md-nav__link">
    <span class="md-ellipsis">
      3-Wire Fans with Tachometer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-wire-fans-with-pwm" class="md-nav__link">
    <span class="md-ellipsis">
      3-Wire Fans with PWM
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-wire-fans" class="md-nav__link">
    <span class="md-ellipsis">
      4-Wire Fans
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fans-not-spinning" class="md-nav__link">
    <span class="md-ellipsis">
      Fans not spinning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fans not spinning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fans-0-and-1" class="md-nav__link">
    <span class="md-ellipsis">
      Fans 0 and 1
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fan-spinning-uncommanded" class="md-nav__link">
    <span class="md-ellipsis">
      Fan spinning uncommanded
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fan spinning uncommanded">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fans-0-and-1_1" class="md-nav__link">
    <span class="md-ellipsis">
      Fans 0 and 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fans-2-and-3" class="md-nav__link">
    <span class="md-ellipsis">
      Fans 2 and 3
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pwm-fans-not-properly-controllable" class="md-nav__link">
    <span class="md-ellipsis">
      PWM fans not properly controllable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix" class="md-nav__link">
    <span class="md-ellipsis">
      Appendix
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typical-fan-wire-colors" class="md-nav__link">
    <span class="md-ellipsis">
      Typical Fan Wire Colors
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="fans">Fans</h1>
<p>This section explains how to figure out what fan you have, and where to connect it.</p>
<p><a class="glightbox" href="../images/FanSection.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Fan Section Overview" src="../images/FanSection.png" /></a></p>
<h2 id="before-connecting-the-fan">Before connecting the fan</h2>
<p>Prior connecting, ensure that the fan's maximum current is below the current of 1A (Fan 0/1) or 2A (Fan 2/3).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please make sure that your fans don't have positive and negative shorted. This can happen easily during installation
of the toolhead, and happens often behind the fan's label. Therefore, it is good practice to measure continuity
between the positive and negative fan wires prior powering the printer on.</p>
<p>While there is some protection of the fan ports, the control element (mosfet) of Fans 0 and 1 can easily blow
before the protection fuse kicks in.</p>
</div>
<h2 id="choosing-the-fan-voltage">Choosing the fan voltage</h2>
<p>Use a jumper to select the voltage as indicated below.</p>
<p><a class="glightbox" href="../images/FanVoltageSelector.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Fan Voltage Jumper" src="../images/FanVoltageSelector.png" /></a></p>
<h2 id="2-wire-fans">2-Wire Fans</h2>
<p>Those are the most common type of fans in the 3D printer world. Their speed can only be controlled by rapidly turning
connecting and disconnecting either the positive or negative wire. DragonDinghy, like most other 3D printer boards,
switches these fans on the negative side.</p>
<p>You can connect these fans to the 3 pin fan headers (Fan 0 and Fan 1):</p>
<table>
<thead>
<tr>
<th>Wire Color (typical)</th>
<th>Fan 0</th>
<th>Fan 1</th>
</tr>
</thead>
<tbody>
<tr>
<td>Red</td>
<td>F- (PA8)</td>
<td>F- (PB4)</td>
</tr>
<tr>
<td>Black</td>
<td>F+</td>
<td>F+</td>
</tr>
</tbody>
</table>
<p>The third connector (TACH) is not used in this scenario.</p>
<p>Example Klipper Section:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a># These are the example configurations for 2-wire fans on Fan 0 and Fan 1
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>[fan_generic dinghy_fan0]
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>pin: dinghy:PA8
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>[fan_generic dinghy_fan1]
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>pin: dinghy:PB4
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Genuine Sunon -A99 series are notoriously hard to control, often they only spin if the speed is set to 100%, and
turn off or jitter at 99% or below. People have reported success by adjusting Klipper's <code>cycle_time</code> parameter,
but it is by no means guaranteed that these types of fans can be controlled properly.</p>
</div>
<h2 id="3-wire-fans">3-Wire Fans</h2>
<p>These fans come with a 3rd wire. Most often, the function of those wires is either tachometer or PWM control. You need
to consult your fan's data sheet/seller page to figure out which function that 3rd wire has.</p>
<h3 id="3-wire-fans-with-tachometer">3-Wire Fans with Tachometer</h3>
<p>For 3-wire fans with tachometers, you can use Fan 0 and Fan 1: </p>
<table>
<thead>
<tr>
<th>Wire Color (typical)</th>
<th>Fan 0</th>
<th>Fan 1</th>
</tr>
</thead>
<tbody>
<tr>
<td>Red</td>
<td>F- (PA8)</td>
<td>F- (PB4)</td>
</tr>
<tr>
<td>Black</td>
<td>F+</td>
<td>F+</td>
</tr>
<tr>
<td>Blue (Delta), White (Orion), Yellow (GdsTime)</td>
<td>TACH (PC13)</td>
<td>TACH (PC14)</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A diode is already built-in on DragonDinghy, so there is no need to worry about
the fan spinning or jittering when it's supposed to be off.</p>
</div>
<p>Example Klipper Section:</p>
<div class="language-ini copy highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># These are the example configurations for Fan 0 and Fan 1</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">[fan_generic dinghy_fan0]</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="na">pin</span><span class="o">:</span><span class="w"> </span><span class="s">dinghy:PA8</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="na">tachometer_pin</span><span class="o">:</span><span class="w"> </span><span class="s">dinghy:PC13</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="c1"># The following 2 lines are optional, please read the note below</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1"># tachometer_ppr: 2</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="c1"># tachometer_poll_interval: 0.0009</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="k">[fan_generic dinghy_fan1]</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="na">pin</span><span class="o">:</span><span class="w"> </span><span class="s">dinghy:PB4</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="na">tachometer_pin</span><span class="o">:</span><span class="w"> </span><span class="s">dinghy:PC14</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="c1"># The following 2 lines are optional, please read the note below</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="c1"># tachometer_ppr: 2  </span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="c1"># tachometer_poll_interval: 0.0009</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>tachometer_ppr</code> specifies how many impulses per one full fan rotation the fan outputs. That is almost always 2, if
you have set your <code>tachometer_poll_interval</code> correctly, check the fan's datasheet if it uses a different value.</p>
<p><code>tachometer_poll_interval</code> specifies how often Klipper reads the tachometer pin. The value must be lower than
<code>30/(tachometer_ppr*rpm)</code>. For example, the Delta ASB02505SHA-AY6B requires a poll interval of <code>0.0009</code>. Don't use
arbitarily small values, as this requires additional computational time on the MCUs and can lead to a
<code>Timer too close</code> if improperly configured. </p>
</div>
<h3 id="3-wire-fans-with-pwm">3-Wire Fans with PWM</h3>
<p>For 3-wire fans with pwm, you can use Fan 2 and Fan 3. The TACH connector position stays empty in this scenario.</p>
<table>
<thead>
<tr>
<th>Wire Color (typical)</th>
<th>Fan 2</th>
<th>Fan 3</th>
</tr>
</thead>
<tbody>
<tr>
<td>Red</td>
<td>F-</td>
<td>F-</td>
</tr>
<tr>
<td>Black</td>
<td>F+</td>
<td>F+</td>
</tr>
<tr>
<td>Yellow (Delta), Blue (GdsTime, Orion)</td>
<td>PWM (PA4)</td>
<td>PWM (PB14 )</td>
</tr>
</tbody>
</table>
<p>Example Klipper Section:</p>
<div class="language-ini copy highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># These are the example configurations for Fan 0 and Fan 1</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="k">[fan_generic dinghy_fan2]</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="na">pin</span><span class="o">:</span><span class="w"> </span><span class="s">dinghy:PA4</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="k">[fan_generic dinghy_fan3]</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="na">pin</span><span class="o">:</span><span class="w"> </span><span class="s">dinghy:PB14</span>
</span></code></pre></div>
<h2 id="4-wire-fans">4-Wire Fans</h2>
<p>These fans come with 4 wires. Almost always, the additional wires functions for PWM control and tachometer feedback.</p>
<p>These fans go to the Fan 2 and Fan 3 connectors:</p>
<table>
<thead>
<tr>
<th>Wire Color (typical)</th>
<th>Fan 2</th>
<th>Fan 3</th>
</tr>
</thead>
<tbody>
<tr>
<td>Red</td>
<td>F-</td>
<td>F-</td>
</tr>
<tr>
<td>Black</td>
<td>F+</td>
<td>F+</td>
</tr>
<tr>
<td>Blue (Delta), White (Orion), Yellow (GdsTime)</td>
<td>TACH (PC15)</td>
<td>TACH (PB15)</td>
</tr>
<tr>
<td>Yellow (Delta), Blue (GdsTime, Orion)</td>
<td>PWM (PA4)</td>
<td>PWM (PB14)</td>
</tr>
</tbody>
</table>
<p>Example Klipper Section:</p>
<div class="language-ini copy highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># These are the example configurations for Fan 0 and Fan 1</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="k">[fan_generic dinghy_fan2]</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="na">pin</span><span class="o">:</span><span class="w"> </span><span class="s">dinghy:PA4</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="na">tachometer_pin</span><span class="o">:</span><span class="w"> </span><span class="s">dinghy:PC15</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="c1"># The following 3 lines are optional, please read the note below</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="c1"># cycle_time: 0.00004</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="c1"># tachometer_ppr: 2</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="c1"># tachometer_poll_interval: 0.0009</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="k">[fan_generic dinghy_fan3]</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="na">pin</span><span class="o">:</span><span class="w"> </span><span class="s">dinghy:PB14</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="na">tachometer_pin</span><span class="o">:</span><span class="w"> </span><span class="s">dinghy:PB15</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="c1"># The following 3 lines are optional, please read the note below</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="c1"># cycle_time: 0.00004</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="c1"># tachometer_ppr: 2  </span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="c1"># tachometer_poll_interval: 0.0009</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>tachometer_ppr</code> specifies how many impulses per one full fan rotation the fan outputs. That is almost always 2, if
you have set your <code>tachometer_poll_interval</code> correctly, check the fan's datasheet if it uses a different value.</p>
<p><code>tachometer_poll_interval</code> specifies how often Klipper reads the tachometer pin. The value must be lower than
<code>30/(tachometer_ppr*rpm)</code>. For example, the Delta ASB02505SHA-AY6B requires a poll interval of <code>0.0009</code>. Don't use
arbitarily small values, as this requires additional computational time on the MCUs and can lead to a
<code>Timer too close</code> if improperly configured.</p>
<p><code>cycle_time</code> specifies the PWM base frequency. Most PC and server fans expect a 25kHz signal, equalling to
<code>cycle_time: 0.00004</code></p>
</div>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="fans-not-spinning">Fans not spinning</h3>
<ul>
<li>Ensure that the polarity of the wires is correct.</li>
<li>
<p>Check the voltage status LEDs, they should all be lit</p>
</li>
<li>
<p>Check that the <code>Pin On</code> LED is lit when you activate the fan.</p>
<ul>
<li>If it doesn't light up, you might have the pins set incorrectly. Consult the Klipper log to check that the pins are
    actually set to what you expect them to be set.</li>
</ul>
</li>
</ul>
<h4 id="fans-0-and-1">Fans 0 and 1</h4>
<ul>
<li>
<p>Check that the <code>Output On</code> LED is lit when you activate the fan. If it doesn't light up:</p>
<ul>
<li>Ensure the fan voltage jumper is set</li>
<li>Ensure the fan is actually connected</li>
<li>If the previous checks come back false, then the protection fuse might be blown. This only happens when a severe
    overload happened, for example a short circuit or attempting to run a fan which exceeds the current rating of 1A.
    This fuse is not user replaceable, as other components in that part of the circuit might have taken damage. </li>
</ul>
</li>
</ul>
<h3 id="fan-spinning-uncommanded">Fan spinning uncommanded</h3>
<h4 id="fans-0-and-1_1">Fans 0 and 1</h4>
<p>Check the LEDs of the fan port. If the <code>Pin On</code> LED is lit, then something has commanded the fan to spin. This is
typically a misconfiguration or macro on the Klipper side. If <code>Output On</code> LED is lit but <code>Pin On</code> is not, then the
output has experienced a brief overload (typically a short circuit), fast enough to damage the control element (mosfet)
but not triggering the protection fuse.</p>
<h4 id="fans-2-and-3">Fans 2 and 3</h4>
<p>Most PWM fans start up at full power until Klipper has started and initialized the MCU board(s). To prevent this,
you can set initial pins in your <code>make menuconfig</code> section like so:</p>
<p><a class="glightbox" href="../images/FanMenuconfig.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Board Diagram" src="../images/FanMenuconfig.png" /></a></p>
<h3 id="pwm-fans-not-properly-controllable">PWM fans not properly controllable</h3>
<p>Many PWM fans designed for use within computers or servers (GdsTime GDP4028, Noctua Fans, almost all PC fans) expact
a 25kHz signal. To implement this, add the following line to your PWM fan section: </p>
<div class="language-ini highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="na">cycle_time</span><span class="o">:</span><span class="w"> </span><span class="s">0.00004</span>
</span></code></pre></div>
<h2 id="appendix">Appendix</h2>
<h3 id="typical-fan-wire-colors">Typical Fan Wire Colors</h3>
<p>This table was written with the most common 3D printer fan models/types in mind. Note that sometimes manufacturers vary
the wire colors by fan model or target audience, so you might want to double-check the fan's data sheet for the most
accurate information.</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Colors</th>
</tr>
</thead>
<tbody>
<tr>
<td>Red</td>
<td>Positive supply voltage</td>
</tr>
<tr>
<td>Black</td>
<td>Negative / GND</td>
</tr>
<tr>
<td>Tachometer</td>
<td>Blue (Delta), White (Orion), Yellow (GdsTime)</td>
</tr>
<tr>
<td>PWM Speed Control</td>
<td>Yellow (Delta), Blue (GdsTime, Orion)</td>
</tr>
<tr>
<td>Alarm</td>
<td>Yellow (Orion)</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.top", "navigation.tabs"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>